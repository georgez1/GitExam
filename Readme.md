# Инструкция для работы с Git

## Что такое Git

Git – самая популярная реализация системы контроля версий, имеющая локальные и удалённые репозитории.

## Подготовка репозитория

Для создания репозитория надо выполнить команду `git init` в папке с репозиторием 
(в результате в этой папке появится скрытая папка `.git`).

## Создание коммитов

### Git add
Для добавления измений в коммит используется команда `git add`. Чтобы использовать команду `git add` напишите `git add <имя файла>`

### Просмотр состояния репозитория
Для того, чтобы посмотреть состояние репозитория используется команда `git status`. Для этого необходимо в папке с репозиторием написать `git status`, и Вы увидите были ли измения в файлах, или их не было.

### Создание коммитов
Для того, чтобы создать коммит(сохранение) необходимо выполнить команду `git commit`. Выполняется она так: `*`git commit -m "<сообщение к коммиту>`*`. Все файлы для коммита должны быть ***ДОБАВЛЕНЫ*** и сообщение к коммиту писать ***ОБЯЗАТЕЛЬНО***.

## Перемещение между сохранениями
Для того, чтобы перемещаться между коммитами, используется команда `git checkout`. Используется она в папке с пепозиторием следующим образом: `git checkout <номер коммита>`

## Журнал изменений
Для того, чтобы посмтреть все сделанные изменения в репозитории, используется команда *git log*. Для этого достаточно выполнить команду *git log* в папке с репозиторием. Выход из просмотра лога -- клавиша `q`.

## Ветки в Git

### Создание ветки

Для того, чтобы создать ветку, используется команда `git branch`. Делается это следующим образом в папке с репозиторием: `git branch <название новой ветки>`

## Слияние веток

Для того чтобы дабавить ветку в текущую ветку используется команда `git merge <name branch>`

## Удаление веток
Для удаления ветки ввести команду `git branch -d 'name branch'`

> Это цитата на Markdown.


Пример результата выполнения команды `git diff master MyBranch1`:

[![Сравнение двух веток](./diff1.png)]

Если файл с изображением не добавить командой `git add`, то будем получать сообщения, что он не добавлен. Чтобы эти сообщения не получать, надо создать файл `.gitignore`, для этого используется команда `dotnet new gitignore`.

`git add .\.gitignore`
`git commit -m "Add .gitignore"`

В файл `.gitignore` надо прописать файлы, которые не требуется фиксировать, например: `*.jpeg`.

Перейти в главную ветку: `git checkout master`.

Создание ветки: `git branch ИмяВетки`. Та же команда без параметра выводит список веток.

Перейти к указанной ветке: `git checkout ИмяВетки`.


## Работа с удалёнными репозиториями

### Создание удалённого репозитория на основе локального

На сайте `github.com` создаём новый удалённый репозиторий: нажимаем знак `+` вверху справа и выбираем `New repository`. 
Вводим имя `GitExam` и нажимаем зелёную кнопку `Create repository`.

Копируем три команды для того, чтобы отправить (пушнуть) локальный репозиторий на `github.com`:
```
git remote add origin https://github.com/georgez1/GitExam.git
git branch -M main
git push -u origin main
```
Выполняем эти команды в терминале. На сайте `github.com` в удалённом репозитории появится нужное содержимое.

### Клонирование удалённого репозитория в локальный

Создадим пустую папку, откроем её в VS Code, не будем инициализировать её (не выполняем `git init`).

На сайте `github.com` нажимаем зелёную кнопку `Code` и копируем ссылку для клонирования.
В терминале выполняем команду:
```
git clone  https://Скопированная ссылка.git
```
Теперь в локальной папке появится нужное содержимое.

## Редактирование удалённого репозитория
На сайте `github.com` нажмём на карандаш справа и изменим какой-нибудь файл. Ниже в поле `Commit changes` пишем комментарий к коммиту: «Создали конфликт для слияния» и нажимаем на зелёную кнопку `Commit changes`. Теперь удалённая версия отличается от локальной.

## Редактирование локального репозитория
В локальном репозитории в той же строке допишем другой текст. Сохраним файл (`Ctrl+S`). Выполним коммит в терминале локального репозитория: `git commit -am "Добавили важную информацию"`. Проверим, всё ли в порядке: `git status`. 

## Слияние удалённой и локальной веток
Выполняем в терминале `git pull`,
чтобы выполнить слияние локального и удалённого репозитория. Видим конфликт (разные правки в одной и то же строке).

Принимаем решения, что оставить, а что игнорировать, например, принимаем текущее изменение (`current change`). Сохраняем файл (`Ctrl+S`) и коммитим локальный репо: 
`git commit -am "Разрешили конфликт"` (опция `-a` – сокращенно от all - все).

## Отправка изменений локального репозитория на удалённый (push)
Выполним в терминале `git push`, чтобы выгрузить изменения на удалённый сервер. Обновим страницу в браузере, чтобы увидеть изменения на сайте `github.com`.

## Форк - создание своей ветки на основе чужого репозитория
На сайте `github.com` в чужом проекте нажмём вверху справа `Fork | Create new fork`. Копируем ссылку на созданный удалённый репозиторий и клонируем в терминале: `git clone https://cсылка.git`. Переходим в терминале в появившуюся папку и работаем.

В терминале начнём новую ветку: `git branch newbranch`. Перейдём на новую ветку: `git checkout newbranch`. Допишем свой текст. Выполним коммит, а затем пуш: 
```
git add .\Readme.md
git commit -m "добавили изменения в новой ветке"
git status
git push --set-upstream origin newbranch 
```
Переходим на сайт `github.com` в свой репозиторий, выбираем ветку `newbranch`. Нажимаем на ссылку  `1 commit ahead`  и затем делаем `pull request` (зелёная кнопка справа), вводим сообщение и снова нажимаем зелёную кнопку `Create pull request`.